import React from 'react';
import { Field, reduxForm } from 'redux-form';
import { Alert } from 'antd';

import { validateLogin as validate } from '../FormPatterns/validation';
import { renderField } from '../FormPatterns/renderField';

const Form = props => {
    const { error, handleSubmit, submitting, formSubmit } = props;
    return (
        <form onSubmit={handleSubmit(formSubmit)}>
            {error && <div className="wrap-input100">
                <Alert message="Unable to log in with provided credentials." type="error" showIcon />
            </div>}
            <Field type="text" name='username' component={renderField} className="input100" label="Email" />
            <Field type="password" name='password' component={renderField} className='input100' label="Password"/>
            <div className="wrap-input100">
                <button disabled={submitting} className="contact100-form-btn">Submit</button>
            </div>
        </form>
    );
};

export default reduxForm({
    form: 'LoginForm',
    validate
})(Form);
