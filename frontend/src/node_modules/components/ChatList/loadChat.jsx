import React from 'react';
import Request from 'services';

const loadChat = (Component) => { 
    class AsyncComponent extends React.Component {
        componentDidMount() {
            Request.Get('/api/private-chats/')
                .then(
                    res => {
                        this.props.GetChatList(res.data);
                    },
                    err => {
                        console.log(err);
                    }
                )
        }
        render() {
            if (!this.props.chatList) return null;
            return (
                <Component chatList={this.props.chatList}/>
            )
        }
    }
    return AsyncComponent;
};

export default loadChat;