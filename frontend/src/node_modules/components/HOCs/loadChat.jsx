import React from 'react';
import API from 'services';

const loadChat = (Component) => { 
    class AsyncComponent extends React.Component {
        componentWillMount() {
            API.Get('private-chats/')
                .then(
                    res => {
                        this.props.GetChatList(res.data);
                    },
                    err => {
                        console.log(err);
                    }
                )
        }
        render() {
            if (!this.props.chatList) return null;
            return (
                <Component {...this.props} />
            )
        }
    }
    return AsyncComponent;
};

export default loadChat;