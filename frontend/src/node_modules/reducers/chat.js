import {CHANGE_CURRENT_CHAT} from 'constants/action-types'

const initialState = {
    current_chat_id: null,
    chats: []
};

export default function chat(state = initialState, action) {
    switch (action.type) {
        case CHANGE_CURRENT_CHAT:
            return {...state, current_chat_id: action.payload};
        case CHANGE_CHAT_LAST_MESSAGE:
            return {
                ...state, chats: [state.chats.map(chat => {
                    if (chat.id === payload.chat_id) {
                        return {...chat, last_message: payload.last_message}
                    }
                    return chat
                })]
            };
        default:
            return state;
    }
}